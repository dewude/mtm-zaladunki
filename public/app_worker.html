<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Panel Pracownika</title>
<link rel="stylesheet" href="/style.css">
</head>
<body>
<h1>Panel Pracownika</h1>
<div id="lista"></div>
<script>
async function loadPalety(){
  const res=await fetch('/api/awizacje');
  const awizacje=await res.json();
  const lista=document.getElementById('lista'); lista.innerHTML='';
  for(const a of awizacje){
    const div=document.createElement('div'); div.className='awizacja';
    div.innerHTML=`<strong>${a.nazwa_zam} ${a.nr_zam}</strong><br>Ilość palet: ${a.ilosc_palet} Zeskanowane: ${a.zeskanowane}<br>`;
    const pRes=await fetch(`/api/palety/${a.id}`); const palety=await pRes.json();
    palety.forEach(p=>{
      const pDiv=document.createElement('div'); pDiv.className='paleta';
      pDiv.innerHTML=`${p.kod_qr} - ${p.status}`;
      div.appendChild(pDiv);
    });
    lista.appendChild(div);
  }
}
loadPalety();
</script>
</body>
</html>
